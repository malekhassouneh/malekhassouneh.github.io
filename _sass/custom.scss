/* ========================================================================== 
   Custom Navigation & Footer Overrides
   ========================================================================== */

/* ================================
   Nav: Left-aligned name, right-aligned links
   ================================ */

.greedy-nav {
  display: flex;
  justify-content: space-between; /* left = site title, right = links */
  align-items: center;
  flex-wrap: nowrap;
  position: relative;

  /* Site title (first item) stays left */
  .visible-links li:first-child {
    margin-right: auto;
    font-weight: bold;
  }

  /* Other items flush right */
  .visible-links li:not(:first-child) {
    margin-left: 1rem;
  }

  /* Theme toggle button at end */
  #theme-toggle {
    margin-left: 1rem;
    display: flex;
    align-items: center;

    a {
      display: flex;
      justify-content: center;
      width: 25px;
    }
  }

  /* Desktop links container */
  .visible-links {
    display: flex;
    flex-wrap: nowrap;
    align-items: center;
    margin: 0;
    padding: 0;
    list-style: none;
  }

  /* Mobile hidden links (hamburger) */
  .hidden-links {
    display: none; /* default hidden */
    position: absolute;
    top: 100%;
    right: 0;
    margin-top: 0.5rem;
    padding: 0.5rem;
    list-style: none;
    border: 1px solid var(--global-border-color);
    border-radius: 0.25rem;
    background: #fff;
    z-index: 100;

    li {
      display: block;
      margin: 0;
      padding: 0.25rem 0;
      border-bottom: 1px solid var(--global-border-color);

      &:last-child {
        border-bottom: none;
      }
    }

    a {
      padding: 0.25rem 0.5rem;
      width: 100%;
      display: block;
    }
  }

  /* Hamburger button */
  button {
    display: none; /* hide by default on desktop */
    background: none;
    border: none;
    cursor: pointer;
    font-size: 1.25rem;
  }
}

/* Mobile behavior: show hamburger if nav is too narrow */
@media (max-width: 767px) {
  .greedy-nav {
    flex-wrap: wrap;

    .visible-links {
      flex-direction: row;
      overflow: hidden;
    }

    button {
      display: block;
      order: 1; /* ensures button is at end of flex row */
      margin-left: auto;
    }

    .hidden-links {
      display: none; /* JS toggles on click */
    }
  }
}

/* ================================
   Footer: hide Sitemap / Follow
   ================================ */
footer .sitemap,
footer .follow {
  display: none !important;
}